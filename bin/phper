#!/usr/bin/env ruby
# -*- coding: utf-8 -*-
$:.unshift(File.join(File.dirname(__FILE__),'..','lib'))
require 'phper'
Phper::CLI::run(ARGV)
exit


def urlroot
  "http://tumf:hogehoge@localhost:3000"
end

def url res
  format = "json"
  urlroot + res + "." + format
end

# RestClient.get(url("/projects"))
# puts RestClient.post url("/projects"),:project => {:name => "fuga6"}
# puts RestClient.delete url("/projects/tumf-fuga6")

                     




=begin

phper register 

$ phper login [<username>]

$ phper logout

$ phper keys
$ phper keys:add <file>
$ phper keys:remove <name>
$ phper keys:clear

== git リポジトリを作る

$ phper create <project>
  --> gitosis@git.phper.jp:<user>/<project>.git

== coding

$ git clone gitosis@git.phper.jp:tumf/<project>.git

== deploy

$ git push phper master

* hostが未割り当てならhostを割り当て
* hostにデプロイ
  --> /var/phper/project
  --> cap

== server

$ phper server [<docroot>] [--port=<port>] []


* <docroot>をドキュメントルートにしてサーバを構築
  --> /var/phper/project/<docroot>

$ phper server [<docroot>] [--name=<fqdn>]

* proxyの`/etc/hosts`を更新
* proxyのnginx設定を更新
* Apache VirtualHostを設定
* nameが指定されていなかったら適当に決められる

== サーバの設定

$ phper server:config
$ phper server:config:add
$ phper server:config:clear



== メンテナンス

$ phper server:maintenance <on|off>

$ phper server:stop
$ phper server:start
$ phper server:restart
=end
